<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Audrey's Watchlist</title>
    <link rel="stylesheet" href="https://media.nintendo.com/share/nclood/stable/en-us/bundles/microsite.css">
    <link rel="stylesheet" media="screen" href="https://animalcrossing.nintendo.com/assets/css/main.css">
    <link rel="stylesheet" href="home.css">
</head>

<body>
    <main>
        <div class="yellow-bg-wrap">
            <div class="pattern pattern--triangles feature-pattern"></div>
            <section
                class="section section--news rel vp-onscreen vp-on-10 vp-onf-10 vp-on-20 vp-onf-20 vp-on-30 vp-onf-30 vp-on-40 vp-onf-40 vp-on-50 vp-onf-50 vp-on-60 vp-onf-60 vp-on-70 vp-onf-70 vp-on-80 vp-onf-80 vp-on-90 vp-onf-90 vp-on-100 vp-onf-100 vp-b-10 vp-bf-10 vp-b-20 vp-bf-20 vp-b-30 vp-bf-30 vp-b-40 vp-bf-40 vp-b-50 vp-bf-50 vp-b-60 vp-bf-60 vp-b-70 vp-bf-70 vp-b-80 vp-bf-80"
                data-controller="Viewport">
                <div class="sec1">
                    <h3 class="news-title vp-slide vp-slide--up">
                        Audrey's WatchList
                    </h3>

                    <!-- Sorting Control -->
                    <div class="sort-by">
                        <label for="sort-by">Sort by: </label>
                        <select id="sort-by">
                            <option value="most-recent">Most Recent</option>
                            <option value="running-time">Running Time</option>
                            <option value="ratings">Comprehensive Ratings</option>
                            <option value="watch-date">Watch Date</option>
                            <option value="watch-count">Watch Count</option>
                        </select>
                    </div>

                    <ul class="row-flex news-grid" data-news="loaded" data-display-text="Keep reading >"
                        data-hidden-text="News article: ">
                        <li class="column-flex column-flex-4 news-item" data-title="The Holiday" data-date="2024-11-08"
                            data-imdb="7" data-rt="51" data-runtime="135" data-watchdates="2024-10-25,2024-11-03"
                            data-comments="Enjoyed the holiday spirit">
                            <article>
                                <a aria-label="News article: Create your ideal campsite in Animal Crossing: Pocket Camp Complete—coming soon!"
                                    data-background="squares-purple" href="#">
                                    <div class="news-article" aria-hidden="true">
                                        <span class="news-article__date text-teal">
                                            Nov 8, 2024
                                        </span>
                                        <span class="news-article__title">
                                            <div class="nat-title">
                                                The Holiday
                                            </div>
                                            <div class="nl-rating">
                                                <img class="intext-icon"
                                                    src="https://m.media-amazon.com/images/G/01/IMDb/brand/guidelines/imdb/IMDb_Android_App_Icon._CB443386390_.png">
                                                7/10
                                                <img class="intext-icon"
                                                    src="https://cdn3.emoji.gg/emojis/5248-rotten-tomatoes-critic-rotten.png">
                                                51%
                                            </div>
                                            <div class="nl-runtime">
                                                <img class="intext-icon-smaller"
                                                    src="https://is1-ssl.mzstatic.com/image/thumb/Purple126/v4/f2/33/64/f23364f6-7d6c-e473-5b19-a3b88d0e5a38/AppIcon-0-0-1x_U007emarketing-0-0-0-7-0-0-sRGB-0-0-0-GLES2_U002c0-512MB-85-220-0-0.png/434x0w.webp">
                                                2 hrs 15 mins
                                            </div>
                                        </span>
                                        <img class="news-article__thumb"
                                            src="https://i.ytimg.com/vi_webp/VMq3G0G_lnk/movieposter.webp"
                                            alt="Cover Picture of The Holiday"><span class="news-article__more">Keep
                                            reading &gt;</span>
                                    </div>
                                </a>
                            </article>
                        </li>
                        <li class="column-flex column-flex-4 news-item" data-title="The Holiday" data-date="2024-11-08"
                            data-imdb="7" data-rt="51" data-runtime="135" data-watchdates="2024-10-25,2024-11-03"
                            data-comments="Enjoyed the holiday spirit">
                            <article>
                                <a aria-label="News article: Create your ideal campsite in Animal Crossing: Pocket Camp Complete—coming soon!"
                                    data-background="squares-purple" href="#">
                                    <div class="news-article" aria-hidden="true">
                                        <span class="news-article__date text-teal">
                                            Oct 28, 2024
                                        </span>
                                        <span class="news-article__title">
                                            <div class="nat-title">
                                                The Substance
                                            </div>
                                            <div class="nl-rating">
                                                <img class="intext-icon"
                                                    src="https://m.media-amazon.com/images/G/01/IMDb/brand/guidelines/imdb/IMDb_Android_App_Icon._CB443386390_.png">
                                                7.4/10
                                                <img class="intext-icon"
                                                    src="https://cdn3.emoji.gg/emojis/5248-rotten-tomatoes-critic-rotten.png">
                                                90%
                                            </div>
                                            <div class="nl-runtime">
                                                <img class="intext-icon-smaller"
                                                    src="https://is1-ssl.mzstatic.com/image/thumb/Purple126/v4/f2/33/64/f23364f6-7d6c-e473-5b19-a3b88d0e5a38/AppIcon-0-0-1x_U007emarketing-0-0-0-7-0-0-sRGB-0-0-0-GLES2_U002c0-512MB-85-220-0-0.png/434x0w.webp">
                                                2 hrs 21 mins
                                            </div>
                                        </span>
                                        <img class="news-article__thumb"
                                            src="https://reelcinemas.co.uk/filmimages/small/89991.jpg"
                                            alt="Cover Picture of TS"><span class="news-article__more">Keep
                                            reading &gt;</span>
                                    </div>
                                </a>
                            </article>
                        </li>
                        <li class="column-flex column-flex-4 news-item" data-title="Fellow Travelers"
                            data-date="2024-11-22" data-imdb="8.2" data-rt="90" data-runtime="472"
                            data-watchdates="2024-10-22" data-comments="Great storyline with compelling characters">
                            <article>
                                <a aria-label="News article: Create your ideal campsite in Animal Crossing: Pocket Camp Complete—coming soon!"
                                    data-background="squares-purple" href="#">
                                    <div class="news-article" aria-hidden="true">
                                        <span class="news-article__date text-teal">
                                            Oct 22, 2024
                                        </span>
                                        <span class="news-article__title">
                                            <div class="nat-title">
                                                Fellow Travelers
                                            </div>
                                            <div class="nl-rating">
                                                <img class="intext-icon"
                                                    src="https://m.media-amazon.com/images/G/01/IMDb/brand/guidelines/imdb/IMDb_Android_App_Icon._CB443386390_.png">
                                                8.2/10
                                                <img class="intext-icon"
                                                    src="https://cdn3.emoji.gg/emojis/5248-rotten-tomatoes-critic-rotten.png">
                                                90%
                                            </div>
                                            <div class="nl-runtime">
                                                <img class="intext-icon-smaller"
                                                    src="https://is1-ssl.mzstatic.com/image/thumb/Purple126/v4/f2/33/64/f23364f6-7d6c-e473-5b19-a3b88d0e5a38/AppIcon-0-0-1x_U007emarketing-0-0-0-7-0-0-sRGB-0-0-0-GLES2_U002c0-512MB-85-220-0-0.png/434x0w.webp">
                                                7 hrs 52 mins
                                            </div>
                                        </span>
                                        <img class="news-article__thumb"
                                            src="https://yt3.ggpht.com/yv3o-eC3bh8argjxZBoVaTxc71jA7tG4soVY9upAak_A4k0D40s9s-YTcXAVYGtvqiLuwf1l=w2120-fcrop64=1,00000000ffffffff-k-c0xffffffff-no-nd-rj"
                                            alt="Cover Picture of Fellow Travelers"><span
                                            class="news-article__more">Keep
                                            reading &gt;</span>
                                    </div>
                                </a>
                            </article>
                        </li>
                        <li class="column-flex column-flex-4 news-item" data-title="Fellow Travelers"
                        data-date="2024-11-22" data-imdb="8.2" data-rt="90" data-runtime="472"
                        data-watchdates="2024-10-22" data-comments="Great storyline with compelling characters">
                        <article>
                            <a aria-label="News article: Create your ideal campsite in Animal Crossing: Pocket Camp Complete—coming soon!"
                                data-background="squares-purple" href="#">
                                <div class="news-article" aria-hidden="true">
                                    <span class="news-article__date text-teal">
                                        Sep 2, 2024
                                    </span>
                                    <span class="news-article__title">
                                        <div class="nat-title">
                                            Victorious
                                        </div>
                                        <div class="nl-rating">
                                            <img class="intext-icon"
                                                src="https://m.media-amazon.com/images/G/01/IMDb/brand/guidelines/imdb/IMDb_Android_App_Icon._CB443386390_.png">
                                            7/10
                                            <img class="intext-icon"
                                                src="https://cdn3.emoji.gg/emojis/5248-rotten-tomatoes-critic-rotten.png">
                                            77%
                                        </div>
                                        <div class="nl-runtime">
                                            <img class="intext-icon-smaller"
                                                src="https://is1-ssl.mzstatic.com/image/thumb/Purple126/v4/f2/33/64/f23364f6-7d6c-e473-5b19-a3b88d0e5a38/AppIcon-0-0-1x_U007emarketing-0-0-0-7-0-0-sRGB-0-0-0-GLES2_U002c0-512MB-85-220-0-0.png/434x0w.webp">
                                            1 day 17 hrs 12 mins
                                        </div>
                                    </span>
                                    <img class="news-article__thumb"
                                        src="https://th.bing.com/th?id=OIP.IanKDW8JVutIH0Y73Yto6wHaEK&w=80&h=80&c=1&vt=10&bgcl=842695&r=0&o=6&dpr=1.5&pid=5.1"
                                        alt="Cover Picture of V."><span class="news-article__more">Keep
                                        reading &gt;</span>
                                </div>
                            </a>
                        </article>
                    </li>
                        <li class="column-flex column-flex-4 news-item" data-title="Fellow Travelers"
                            data-date="2024-11-22" data-imdb="8.2" data-rt="90" data-runtime="472"
                            data-watchdates="2024-10-22" data-comments="Great storyline with compelling characters">
                            <article>
                                <a aria-label="News article: Create your ideal campsite in Animal Crossing: Pocket Camp Complete—coming soon!"
                                    data-background="squares-purple" href="#">
                                    <div class="news-article" aria-hidden="true">
                                        <span class="news-article__date text-teal">
                                            Aug 28, 2024
                                        </span>
                                        <span class="news-article__title">
                                            <div class="nat-title">
                                                Don't Look Up
                                            </div>
                                            <div class="nl-rating">
                                                <img class="intext-icon"
                                                    src="https://m.media-amazon.com/images/G/01/IMDb/brand/guidelines/imdb/IMDb_Android_App_Icon._CB443386390_.png">
                                                7.2/10
                                                <img class="intext-icon"
                                                    src="https://cdn3.emoji.gg/emojis/5248-rotten-tomatoes-critic-rotten.png">
                                                56%
                                            </div>
                                            <div class="nl-runtime">
                                                <img class="intext-icon-smaller"
                                                    src="https://is1-ssl.mzstatic.com/image/thumb/Purple126/v4/f2/33/64/f23364f6-7d6c-e473-5b19-a3b88d0e5a38/AppIcon-0-0-1x_U007emarketing-0-0-0-7-0-0-sRGB-0-0-0-GLES2_U002c0-512MB-85-220-0-0.png/434x0w.webp">
                                                2 hrs 18 mins
                                            </div>
                                        </span>
                                        <img class="news-article__thumb"
                                            src="https://www.bing.com/images/blob?bcid=rEQUfs3DX9YHRw"
                                            alt="Cover Picture of DLU"><span class="news-article__more">Keep
                                            reading &gt;</span>
                                    </div>
                                </a>
                            </article>
                        </li>
                        <li class="column-flex column-flex-4 news-item" data-title="Fellow Travelers"
                            data-date="2024-11-22" data-imdb="8.2" data-rt="90" data-runtime="472"
                            data-watchdates="2024-10-22" data-comments="Great storyline with compelling characters">
                            <article>
                                <a aria-label="News article: Create your ideal campsite in Animal Crossing: Pocket Camp Complete—coming soon!"
                                    data-background="squares-purple" href="#">
                                    <div class="news-article" aria-hidden="true">
                                        <span class="news-article__date text-teal">
                                            Aug 22, 2024
                                        </span>
                                        <span class="news-article__title">
                                            <div class="nat-title">
                                                My Lady Jane
                                            </div>
                                            <div class="nl-rating">
                                                <img class="intext-icon"
                                                    src="https://m.media-amazon.com/images/G/01/IMDb/brand/guidelines/imdb/IMDb_Android_App_Icon._CB443386390_.png">
                                                7.4/10
                                                <img class="intext-icon"
                                                    src="https://cdn3.emoji.gg/emojis/5248-rotten-tomatoes-critic-rotten.png">
                                                95%
                                            </div>
                                            <div class="nl-runtime">
                                                <img class="intext-icon-smaller"
                                                    src="https://is1-ssl.mzstatic.com/image/thumb/Purple126/v4/f2/33/64/f23364f6-7d6c-e473-5b19-a3b88d0e5a38/AppIcon-0-0-1x_U007emarketing-0-0-0-7-0-0-sRGB-0-0-0-GLES2_U002c0-512MB-85-220-0-0.png/434x0w.webp">
                                                6 hrs 40 mins
                                            </div>
                                        </span>
                                        <img class="news-article__thumb"
                                            src="https://th.bing.com/th/id/OIP.mghrTpw44ch3CS1rXCRVQgAAAA?rs=1&pid=ImgDetMain"
                                            alt="Cover Picture of MLJ"><span class="news-article__more">Keep
                                            reading &gt;</span>
                                    </div>
                                </a>
                            </article>
                        </li>
                        <li class="column-flex column-flex-4 news-item" data-title="The Newsroom" data-date="2024-06-10"
                            data-imdb="8.6" data-rt="90" data-runtime="1520" data-watchdates="2024-06-05,2024-06-10"
                            data-comments="Engaging drama with excellent acting">
                            <article>
                                <a aria-label="News article: Create your ideal campsite in Animal Crossing: Pocket Camp Complete—coming soon!"
                                    data-background="triangles-blue" href="#">
                                    <div class="news-article" aria-hidden="true">
                                        <span class="news-article__date text-teal">
                                            Feb 22, 2024
                                        </span>
                                        <span class="news-article__title">
                                            <div class="nat-title">
                                                The Newsroom
                                            </div>
                                            <div class="nl-rating">
                                                <img class="intext-icon"
                                                    src="https://m.media-amazon.com/images/G/01/IMDb/brand/guidelines/imdb/IMDb_Android_App_Icon._CB443386390_.png">
                                                8.6/10
                                                <img class="intext-icon"
                                                    src="https://cdn3.emoji.gg/emojis/5248-rotten-tomatoes-critic-rotten.png">
                                                90%
                                            </div>
                                            <div class="nl-runtime">
                                                <img class="intext-icon-smaller"
                                                    src="https://is1-ssl.mzstatic.com/image/thumb/Purple126/v4/f2/33/64/f23364f6-7d6c-e473-5b19-a3b88d0e5a38/AppIcon-0-0-1x_U007emarketing-0-0-0-7-0-0-sRGB-0-0-0-GLES2_U002c0-512MB-85-220-0-0.png/434x0w.webp">
                                                25 hrs 20 mins
                                            </div>
                                        </span>
                                        <img class="news-article__thumb"
                                            src="https://yt3.ggpht.com/tiJmX1ndjzVW_RDFQFz3MhCKqia4zXCRORk_FEfb6ktOPUDLXSC26VzRqzpUHO7GdxkOQTOvwQ=w2120-fcrop64=1,00000000ffffffff-k-c0xffffffff-no-nd-rj"
                                            alt="Cover Picture of The Newsroom"><span class="news-article__more">Keep
                                            reading &gt;</span>
                                    </div>
                                </a>
                            </article>
                        </li>
                    </ul>
                    <a class="button button--red button--thin vp-pop"
                        data-metric="{ eVars: { 39: 'home: news: more' }, events: [53] }" id="show-all">
                        See All
                    </a>
                </div>
            </section>
            <section
                class="feature-image vp-onscreen vp-on-10 vp-onf-10 vp-on-20 vp-onf-20 vp-on-30 vp-onf-30 vp-on-40 vp-onf-40 vp-on-50 vp-onf-50 vp-on-60 vp-onf-60 vp-on-70 vp-onf-70 vp-on-80 vp-onf-80 vp-on-90 vp-onf-90 vp-on-100 vp-onf-100"
                data-controller="Viewport">
                <h2 class="visually-hidden">Main Feature</h2>
                <div class="row-flex">
                    <div class="column-flex-12 column-flex-large-10 vp-pop">
                        <div class="fancy-border fancy-border--iframe">
                            <nclood-video class="img-full"
                                video-id="/Nintendo%20Switch/Games/Animal%20Crossing:%20New%20Horizons/Video/2020-09-30%20What%20is%20Animal%20Crossing/2020-09-30_What_is_Animal_Crossing">
                                <div class="video-container" style="width:100%; height:100%;"></div>
                            </nclood-video>
                        </div>
                    </div>
                    <div class="column-flex-12 column-flex-large-10">
                        <a class="feature-image__description-heading"
                            href="https://www.nintendo.com/games/detail/animal-crossing-new-horizons-switch/"
                            data-metric="{ eVars:{39:'featured image:new horizons'}, events:[53] }">
                            <span class="vp-slide vp-slide--up vp-delay-2" aria-hidden="true">Animal Crossing: New
                                Horizons</span>
                            <span class="visually-hidden">Go to Animal Crossing: New Horizons game detail page.</span>
                        </a>
                        <p class="feature-image__description vp-slide vp-slide--up vp-delay-4">New to Animal Crossing:
                            New Horizons? Come get the lay of the land and learn what to expect when you set out to
                            create your own island paradise. If you’re an island life veteran already, we hope you will
                            share this video with newcomers and welcome them with open arms!</p>
                        <a class="button button--red feature-image__link vp-pop vp-delay-6"
                            href="https://animalcrossing.nintendo.com/new-horizons/"
                            data-metric="{ eVars:{39:'featured link:new horizons'}, events:[53] }" target="_blank">Visit
                            the website</a>
                    </div>
                </div>
            </section>
        </div>
    </main>
    <footer>

    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const showAllButton = document.getElementById('show-all');
            const sortBySelect = document.getElementById('sort-by');

            const ul = document.querySelector('.news-grid');
            const lis = Array.from(ul.children);

            const parseMovieData = (li) => {
                return {
                    li: li,
                    title: li.getAttribute('data-title'),
                    date: new Date(li.getAttribute('data-date')),
                    rating: {
                        imdb: parseFloat(li.getAttribute('data-imdb')),
                        rt: parseFloat(li.getAttribute('data-rt'))
                    },
                    runtime: parseInt(li.getAttribute('data-runtime')),
                    watchDates: li.getAttribute('data-watchdates').split(',').map(date => new Date(date)),
                    comments: li.getAttribute('data-comments')
                };
            };

            const movies = lis.map(parseMovieData);

            function sortMovies() {
                let sortedMovies = movies.slice();

                // Sorting
                switch (sortBySelect.value) {
                    case 'running-time':
                        sortedMovies.sort((a, b) => a.runtime - b.runtime);
                        break;
                    case 'ratings':
                        sortedMovies.sort((a, b) => (b.rating.imdb + b.rating.rt) / 2 - (a.rating.imdb + a.rating.rt) / 2);
                        break;
                    case 'watch-date':
                        sortedMovies.sort((a, b) => Math.max(...b.watchDates) - Math.max(...a.watchDates));
                        break;
                    case 'watch-count':
                        sortedMovies.sort((a, b) => b.watchDates.length - a.watchDates.length);
                        break;
                    default:
                        sortedMovies.sort((a, b) => b.date - a.date);
                        break;
                }

                renderMovies(sortedMovies.slice(0, 3)); // Only show 3 most recent watched movies by default
            }

            function renderMovies(movies) {
                ul.innerHTML = ''; // Clear the current list
                movies.forEach(movie => {
                    ul.appendChild(movie.li);
                });
            }

            sortBySelect.addEventListener('change', () => sortMovies());
            showAllButton.addEventListener('click', () => renderMovies(movies)); // Show all movies when "Show All" is clicked

            sortMovies(); // Initial render
        });
    </script>
</body>

</html>